(this.webpackJsonpmeetup=this.webpackJsonpmeetup||[]).push([[0],{171:function(e,t,n){},172:function(e,t,n){},212:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(0),c=n.n(r),s=n(12),i=n.n(s),o=(n(171),n(10)),l=n.n(o),u=n(13),p=n(34),d=n(38),h=n(37),j=(n(172),n(84));j.a.initializeApp({apiKey:"AIzaSyDOWz4LAypqmSwbZeCCB0syLlrbGefOYRE",authDomain:"meet-app-3d1ce.firebaseapp.com",databaseURL:"https://meet-app-3d1ce.firebaseio.com",projectId:"meet-app-3d1ce",storageBucket:"meet-app-3d1ce.appspot.com",messagingSenderId:"875169633634",appId:"1:875169633634:web:57e13969b67c84e9c8c83b"});var b=j.a,m=(j.a.firestore(),j.a.auth()),f=n(23),x=n(29),g=n(45),O=n(31),v=n(6),w=n(267),y=n(35),k=n(293),C=n(269),S=n(270),N=n(273),I=n(268),E=n(96),A=n(276),U=n(266),D=n(128),M=n.n(D),T=n(130),L=n.n(T),R=n(129),B=n.n(R),P=n(213),z=n(277),q=n(278),W=n(106),_=n.n(W),F=n(107),G=n.n(F),H=n(271),V=n(294),Y=n(151),K=n(274),J=n(27),X=n(131),Q=n.n(X),Z=n(133),$=n.n(Z),ee="SIGNINEMAILPASS",te="LOGINWITHFACEBOOK",ne="SIGNOUT",ae="SIGNUP",re="SETUSER",ce="SET_LOCATION",se="INIT_PROFILE",ie="ADD_IMAGE_TO_STORE_USER",oe=n(104),le=n.n(oe),ue=n(49),pe=n(123),de=n(50),he="GET_SIMILAR_USERS",je="SET_USERS",be=[],me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case he:return[].concat(Object(de.a)(e),[a.user]);case je:return a.users;default:return e}},fe={},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case ee:case te:case ne:case ae:case re:return a.user;case ce:var r=Object(x.a)(Object(x.a)({},e),{},{location:a.location});return r;case se:return Object(x.a)(Object(x.a)({},e),a.obj);case ie:return Object(x.a)(Object(x.a)({},e),{},{images:a.images});default:return e}},ge=n(288),Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"SET_ALERT":var c=r.msg,s=r.status;return Object(a.jsx)(ge.a,{variant:"filled",style:{top:"calc(100vh - 80px)",transform:"translateX(5vw)",zIndex:"2000"},severity:s,children:c});case"REMOVE_ALERT":return"";default:return e}},ve="SET_REQUESTS",we="CLEAR",ye=[],ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case ve:return[].concat(Object(de.a)(e),[a.obj]);case we:return[];default:return e}},Ce=Object(ue.combineReducers)({user:xe,similarUsers:me,alert:Oe,requests:ke}),Se=[n(127).a],Ne=Object(ue.createStore)(Ce,Object(pe.composeWithDevTools)(ue.applyMiddleware.apply(void 0,Se))),Ie=function(e,t){return function(){var n=Object(u.a)(l.a.mark((function n(a){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a({type:"SET_ALERT",payload:{msg:e,status:t}}),setTimeout((function(){a({type:"REMOVE_ALERT"})}),5e3);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Ee=n(132),Ae=n.n(Ee),Ue=240,De=Object(w.a)((function(e){var t;return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),background:"#1e272e"},appBarShift:{marginLeft:Ue,width:"calc(100% - ".concat(Ue,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:Ue,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:Ue,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),background:"inherit"},drawerClose:(t={transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},Object(O.a)(t,e.breakpoints.up("sm"),{width:e.spacing(9)+1}),Object(O.a)(t,"background","inherit"),t),toolbar:Object(x.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)},menuItem:{},list:{},icon:{color:"white"},drw:{background:"#222"},text:{color:"white"}}}));var Me={signOut:function(){return function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.auth().signOut();case 2:e.sent,t({type:ne,payload:{user:{}}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Te=Object(J.b)((function(e){return{user:e.user}}),Me)((function(e){var t,n,r=De(),s=Object(y.a)(),i=c.a.useState(!1),o=Object(g.a)(i,2),l=o[0],u=o[1],p=c.a.useState(null),d=Object(g.a)(p,2),h=d[0],j=d[1],b=function(){j(null)};return Object(a.jsxs)("div",{className:r.root,children:[Object(a.jsx)(I.a,{}),Object(a.jsx)(C.a,{position:"fixed",className:Object(v.a)(r.appBar,Object(O.a)({},r.appBarShift,l)),children:Object(a.jsxs)(S.a,{children:[Object(a.jsx)(U.a,{color:"inherit","aria-label":"open drawer",onClick:function(){u(!0)},edge:"start",className:Object(v.a)(r.menuButton,Object(O.a)({},r.hide,l)),children:Object(a.jsx)(M.a,{})}),Object(a.jsxs)(E.a,{variant:"h6",noWrap:!0,children:["MEET",Object(a.jsx)("b",{children:"O"})]}),Object(a.jsx)(H.a,{style:{left:"calc(100% - 200px)"},size:"medium",color:"primary","aria-label":"avatar",children:Object(a.jsx)(V.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){j(e.currentTarget)},src:e.user.images?e.user.images[0]:""})}),Object(a.jsxs)(Y.a,{id:"simple-menu",anchorEl:h,keepMounted:!0,open:Boolean(h),onClose:b,style:{top:"50px"},children:[Object(a.jsx)(K.a,{className:r.menuItem,onClick:b,children:e.user.nickname}),Object(a.jsx)(K.a,{className:r.menuItem,onClick:b,children:"Other Settings"}),Object(a.jsx)(K.a,{className:r.menuItem,onClick:function(){b(),e.signOut()},children:"Logout"})]})]})}),Object(a.jsxs)(k.a,{variant:"permanent",className:Object(v.a)(r.drawer,(t={},Object(O.a)(t,r.drawerOpen,l),Object(O.a)(t,r.drawerClose,!l),t),r.drw),classes:{paper:Object(v.a)((n={},Object(O.a)(n,r.drawerOpen,l),Object(O.a)(n,r.drawerClose,!l),n))},children:[Object(a.jsx)("div",{className:r.toolbar,children:Object(a.jsx)(U.a,{className:r.text,onClick:function(){u(!1)},children:"rtl"===s.direction?Object(a.jsx)(B.a,{}):Object(a.jsx)(L.a,{})})}),Object(a.jsx)(A.a,{}),Object(a.jsxs)(N.a,{className:r.list,children:[Object(a.jsxs)(P.a,{onClick:function(){return e.history.push("Dashboard")},button:!0,children:[Object(a.jsx)(z.a,{children:Object(a.jsx)(Q.a,{className:r.icon})}),Object(a.jsx)(q.a,{className:r.text,primary:"Dashboard"})]},"Dashboard"),Object(a.jsxs)(P.a,{onClick:function(){return e.history.push("MeetingDashboard")},button:!0,children:[Object(a.jsx)(z.a,{children:Object(a.jsx)(Ae.a,{className:r.icon})}),Object(a.jsx)(q.a,{className:r.text,primary:"Meet Someone"})]},"Meet Someone"),["Inbox","Starred"].map((function(e,t){return Object(a.jsxs)(P.a,{button:!0,children:[Object(a.jsx)(z.a,{children:t%2===0?Object(a.jsx)(_.a,{className:r.icon}):Object(a.jsx)(G.a,{className:r.icon})}),Object(a.jsx)(q.a,{className:r.text,primary:e})]},e)}))]}),Object(a.jsx)(A.a,{}),Object(a.jsxs)(N.a,{className:r.list,children:[["All mail","Trash"].map((function(e,t){return Object(a.jsxs)(P.a,{button:!0,children:[Object(a.jsx)(z.a,{children:t%2===0?Object(a.jsx)(_.a,{className:r.icon}):Object(a.jsx)(G.a,{className:r.icon})}),Object(a.jsx)(q.a,{className:r.text,primary:e})]},e)})),Object(a.jsxs)(P.a,{onClick:e.signOut,button:!0,children:[Object(a.jsx)(z.a,{children:Object(a.jsx)($.a,{className:r.icon})}),Object(a.jsx)(q.a,{className:r.text,primary:"Sign Out"})]},"Sign Out")]})]}),Object(a.jsx)("main",{style:{width:"100%"},children:e.children})]})})),Le=n(280),Re=n(279),Be=n(290),Pe=n(8),ze=n(291),qe=n(296),We=n(281),_e=n(292),Fe=n(297),Ge=n(284),He=n(299),Ve=n(282),Ye=n(295),Ke=n(150),Je=n(75),Xe=n(64),Qe=(n(189),n(65)),Ze=n(74),$e=n.n(Ze),et=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={center:[0,0],zoom:9,draggable:!0,lat:45,lng:41},e.componentDidUpdate=function(t){t!==e.props&&e.setState({lat:e.props.coords.latitude,lng:e.props.coords.longitude,center:[e.props.coords.latitude,e.props.coords.longitude]},(function(){e.props.setLocation({latitude:e.state.lat,longitude:e.state.lng})}))},e.onCircleInteraction=function(t,n,a){e.setState({draggable:!1,lat:a.lat,lng:a.lng},(function(){e.props.setLocation({latitude:e.state.lat,longitude:e.state.lng})})),console.log("onCircleInteraction called with",t,n,a)},e.onCircleInteraction3=function(t,n,a){e.setState({draggable:!0}),console.log("onCircleInteraction called with",t,n,a)},e}return Object(Qe.a)(n,[{key:"render",value:function(){return console.log(this.props),Object(a.jsx)(Je.a,{draggable:this.state.draggable,onChange:this._onChange,center:this.state.center,zoom:this.state.zoom,onChildMouseDown:this.onCircleInteraction,onChildMouseUp:this.onCircleInteraction3,onChildMouseMove:this.onCircleInteraction,onChildClick:function(){return console.log("child click")},onClick:function(){return console.log("mapClick")},children:Object(a.jsx)($e.a,{className:"place",lat:this.state.lat,lng:this.state.lng,style:{color:"red"}})})}}]),n}(c.a.Component),tt={setLocation:function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.firestore().collection("users").doc(Ne.getState().user.uid).update({location:e});case 2:return t.abrupt("return",{type:ce,payload:{location:e}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},nt=Object(J.b)(null,tt)(Object(Xe.geolocated)()(et)),at=Object(w.a)((function(e){return{root:{width:"100%"},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}));var rt={saveProfile:function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.firestore().collection("users").doc(Ne.getState().user.uid).update(e);case 2:n({type:se,payload:{obj:e}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},uploadImages:function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){var a,r,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=b.storage().ref().child("Images/".concat(Ne.getState().user.uid,"/")),t.next=3,e.forEach(function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.child(t.name).put(t).then((function(e){console.log("image"),console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return r=[],t.next=6,a.listAll();case 6:t.sent.items.forEach(function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:n=e.sent,r.push(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n({type:ie,payload:{images:r}}),c=setInterval((function(){r.length>0&&(b.firestore().collection("users").doc(Ne.getState().user.uid).update({images:r}),clearInterval(c))}),300);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},ct=Object(J.b)((function(e){return{user:e.user}}),rt)(Object(Xe.geolocated)()((function(e){var t=at(),n=c.a.useState(0),r=Object(g.a)(n,2),s=r[0],i=r[1],o=["Initial Setup","Upload Images","Select Props","Location"],l=c.a.useState(""),u=Object(g.a)(l,2),p=u[0],d=u[1],h=c.a.useState(""),j=Object(g.a)(h,2),b=j[0],m=j[1],f=c.a.useState([]),x=Object(g.a)(f,2),O=x[0],v=x[1],w=c.a.useState([]),y=Object(g.a)(w,2),k=y[0],C=y[1],S=c.a.useState([]),N=Object(g.a)(S,2),I=N[0],A=N[1];return Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)(qe.a,{activeStep:s,alternativeLabel:!0,children:o.map((function(e){return Object(a.jsx)(We.a,{children:Object(a.jsx)(_e.a,{children:e})},e)}))}),Object(a.jsx)("div",{children:s===o.length?Object(a.jsxs)("div",{children:[Object(a.jsx)(E.a,{className:t.instructions,children:"All steps completed"}),Object(a.jsx)(Le.a,{variant:"contained",color:"primary",onClick:function(){var t={duration:I,beverages:k,phoneNumber:b,nickname:p};e.saveProfile(t),e.uploadImages(O)},children:"Save Data"}),Object(a.jsx)(Le.a,{onClick:function(){i(0),v([]),C([]),A([])},children:"Reset"})]}):Object(a.jsxs)("div",{className:t.instructions,children:[function(){switch(s){case 0:return Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},children:[Object(a.jsx)(Fe.a,{id:"standard-basic",value:p,onChange:function(e){console.log(p),d(e.target.value)},label:"Nickname",type:"text",required:!0}),Object(a.jsx)(Fe.a,{id:"standard-basic",value:b,onChange:function(e){return m(e.target.value)},label:"Phone Number",type:"tel",required:!0})]});case 1:return Object(a.jsx)(Ke.a,{filesLimit:3,acceptedFiles:["image/*"],v:!0,onChange:function(e){return v(e)}});case 2:return Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},children:[Object(a.jsxs)(Ge.a,{style:{minWidth:"150px"},children:[Object(a.jsx)(He.a,{id:"demo-mutiple-chip-label",children:"Select Beverages"}),Object(a.jsx)(Be.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",multiple:!0,value:k,onChange:function(e){C(e.target.value)},input:Object(a.jsx)(Ve.a,{id:"select-multiple-chip"}),renderValue:function(e){return Object(a.jsx)("div",{className:t.chips,children:e.map((function(e){return Object(a.jsx)(Ye.a,{label:e,className:t.chip},e)}))})},children:["Coffee","Juice","Cocktail"].map((function(e){return Object(a.jsx)(K.a,{value:e,children:e},e)}))})]}),Object(a.jsxs)(Ge.a,{style:{minWidth:"150px"},children:[Object(a.jsx)(He.a,{id:"demo-mutiple-chip-label",children:"Set Duration mins"}),Object(a.jsx)(Be.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",multiple:!0,value:I,onChange:function(e){A(e.target.value)},input:Object(a.jsx)(Ve.a,{id:"select-multiple-chip"}),renderValue:function(e){return Object(a.jsx)("div",{className:t.chips,children:e.map((function(e){return Object(a.jsx)(Ye.a,{label:e,className:t.chip},e)}))})},children:["20","60","120"].map((function(e){return Object(a.jsx)(K.a,{value:e,children:e},e)}))})]})]});case 3:return Object(a.jsx)("div",{style:{height:"300px",width:"100%"},children:Object(a.jsx)(nt,{})});default:return"Unknown stepIndex"}}(),Object(a.jsxs)("div",{style:{marginTop:"20px"},children:[Object(a.jsx)(Le.a,{disabled:0===s,onClick:function(){i((function(e){return e-1}))},className:t.backButton,children:"Back"}),Object(a.jsx)(Le.a,{variant:"contained",color:"primary",onClick:function(){i((function(e){return e+1}))},children:s===o.length-1?"Finish":"Next"})]})]})})]})}))),st=(n(194),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={userInfoExists:!1},e.componentDidUpdate=function(){var t=Object(u.a)(l.a.mark((function t(n){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n===e.props){t.next=7;break}if(e.state.userInfoExists||!e.props.user.uid){t.next=7;break}return t.next=4,b.firestore().collection("users").doc(e.props.user.uid).get();case 4:a=t.sent,(r=a.data()).beverages&&r.duration&&r.nickname&&r.phoneNumber&&r.images&&r.location?e.setState({userInfoExists:!0}):e.setState({userInfoExists:!1});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.componentDidMount=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.getRequests();case 1:case"end":return t.stop()}}),t)}))),e.render=function(){var t=e.props.classes;return Object(a.jsx)("div",{className:"".concat(t.wrapper," bg"),children:Object(a.jsxs)("div",{className:"".concat(t.stepper),children:[!e.state.userInfoExists&&Object(a.jsx)(ct,{}),e.state.userInfoExists&&e.props.requests.length<=0&&Object(a.jsxs)("div",{style:{display:"flex",flexFlow:"column",justifyContent:"center",alignItems:"center"},children:[Object(a.jsx)("h2",{children:"You Haven't Done any meeting yet"}),Object(a.jsx)(Le.a,{variant:"contained",color:"primary",onClick:function(){e.props.history.push("MeetingDashboard")},children:"Start A Meeting"})]}),console.log(e.props.requests.length),e.state.userInfoExists&&e.props.requests.length>0&&Object(a.jsxs)("div",{children:[Object(a.jsx)(E.a,{className:t.heading,variant:"h1",children:"All Meetings"}),e.props.requests.map((function(e){return Object(a.jsxs)(Re.a,{container:!0,className:t.row,alignItems:"center",children:[Object(a.jsx)(Re.a,{item:!0,xs:2,children:Object(a.jsx)(V.a,{src:"".concat(e.images[0])})}),Object(a.jsx)(Re.a,{item:!0,xs:3,children:Object(a.jsx)(E.a,{children:e.userName})}),Object(a.jsx)(Re.a,{item:!0,xs:3,children:Object(a.jsxs)(Be.a,{value:e.status,children:[Object(a.jsx)(K.a,{value:"PENDING",children:"PENDING"}),Object(a.jsx)(K.a,{value:"CANCELLED",children:"CANCELLED"}),Object(a.jsx)(K.a,{value:"ACCEPTED",children:"ACCEPTED"}),Object(a.jsx)(K.a,{value:"COMPLICATED",children:"COMPLICATED"}),Object(a.jsx)(K.a,{value:"DONE",children:"DONE"})]})}),Object(a.jsx)(Re.a,{item:!0,xs:2,children:Object(a.jsx)(E.a,{variant:"button",children:e.date})}),Object(a.jsx)(Re.a,{item:!0,xs:2,children:Object(a.jsx)(Le.a,{onClick:function(){window.open("https://www.google.com/maps/dir/".concat(e.location.latitude,",").concat(e.location.longitude),"_blank")},color:"secondary",children:"Location"})})]},Object(ze.a)())}))]})]})})},e}return n}(c.a.Component)),it={getRequests:function(){return function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,a=setInterval((function(){n++,console.log("notfound"),Ne.getState().user.uid&&n<50&&(console.log("found"),clearInterval(a),t(!0))}),300);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.next=4,b.firestore().collection("requests").where("sentTo","==",Ne.getState().user.uid).get();case 4:e.sent.forEach(function(){var e=Object(u.a)(l.a.mark((function e(n){var a,r,c,s,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=n.data()).docId=n.id,a.images=[],r=b.storage().ref("Images/".concat(a.sentBy)),e.next=6,r.listAll();case 6:c=e.sent,s=0;case 8:if(!(s<c.items.length)){e.next=17;break}return i=c.items[s],e.next=12,i.getDownloadURL();case 12:o=e.sent,a.images=[].concat(Object(de.a)(a.images),[o]);case 14:s++,e.next=8;break;case 17:t({type:ve,payload:{obj:a}});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},ot=Object(J.b)((function(e){return{user:e.user,requests:e.requests}}),it)(Object(Pe.a)((function(e){return{stepper:{width:"500px",padding:"20px",background:"white",borderRadius:"10px"},wrapper:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},heading:{fontFamily:"'Roboto Slab', serif",fontSize:"40px",fontWeight:"bolder",marginBottom:"10px"},row:{margin:"10px 0"}}}))(st)),lt=n(285),ut=n(144),pt=n.n(ut),dt=n(143),ht=n.n(dt),jt=n.p+"static/media/Login-bg.f0bee7d3.jpg",bt=n(145),mt=n.n(bt),ft=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={email:"",password:""},e.onchange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value))},e.facebookLogin=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{e.props.loginwithfacebook()}catch(n){e.props.setAlert(n.message,"error")}case 1:case"end":return t.stop()}}),t)}))),e.login=Object(u.a)(l.a.mark((function t(){var n,a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state,a=n.email,r=n.password;try{e.props.signInWithEmailPassword(a,r)}catch(c){e.props.setAlert(c.message,"error")}case 2:case"end":return t.stop()}}),t)}))),e.signUp=Object(u.a)(l.a.mark((function t(){var n,a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state,a=n.email,r=n.password;try{e.props.signUpWithEmailPassword(a,r)}catch(c){e.props.setAlert(c.message,"error")}case 2:case"end":return t.stop()}}),t)}))),e.render=function(){var t=e.props.classes;return Object(a.jsx)("div",{className:t.wrapper,children:Object(a.jsx)(lt.a,{className:t.container,children:Object(a.jsxs)("div",{className:t.loginWrapper,children:[Object(a.jsxs)("h1",{className:"".concat(t.heading," mainHeading"),children:["MEET",Object(a.jsx)("span",{children:"O"})]}),Object(a.jsxs)(Le.a,{className:t.fbBtn,onClick:e.facebookLogin,children:[Object(a.jsx)(ht.a,{}),"Login with Facebook"]}),Object(a.jsxs)(Re.a,{className:t.textField,container:!0,spacing:1,alignItems:"flex-end",children:[Object(a.jsx)(Re.a,{item:!0,children:Object(a.jsx)(pt.a,{})}),Object(a.jsxs)(Re.a,{item:!0,children:[Object(a.jsx)("input",{name:"email",onChange:e.onchange,value:e.state.email,type:"email",className:t.input,placeholder:"email"}),Object(a.jsx)("br",{})]})]}),Object(a.jsxs)(Re.a,{className:t.textField,container:!0,spacing:1,alignItems:"flex-end",children:[Object(a.jsx)(Re.a,{item:!0,children:Object(a.jsx)(mt.a,{})}),Object(a.jsxs)(Re.a,{item:!0,children:[Object(a.jsx)("input",{name:"password",type:"password",onChange:e.onchange,value:e.state.password,className:t.input,placeholder:"password"}),Object(a.jsx)("br",{})]})]}),Object(a.jsx)(Le.a,{onClick:e.login,className:t.loginBtn,children:"Login"}),Object(a.jsx)(Le.a,{onClick:e.signUp,className:t.loginBtn,children:"SignUP"})]})})})},e}return n}(c.a.Component),xt={signInWithEmailPassword:function(e,t){return function(){var n=Object(u.a)(l.a.mark((function n(a){var r,c,s,i,o,u,p,d,h;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,b.auth().signInWithEmailAndPassword(e,t);case 3:return r=(r=n.sent).user,n.next=7,b.firestore().collection("users").doc(r.uid).get();case 7:c=(c=n.sent).data(),i=(s=c).uid,o=s.location,u=s.nickname,p=s.phoneNumber,d=s.beverages,h=s.duration,a({type:ee,payload:{user:{uid:i,location:o,nickname:u,phoneNumber:p,beverages:d,duration:h}}}),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),le()(n.t0.message,"","error");case 16:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(e){return n.apply(this,arguments)}}()},loginwithfacebook:function(){return function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=new b.auth.FacebookAuthProvider,b.auth().signInWithPopup(n).then(function(){var e=Object(u.a)(l.a.mark((function e(n){var a,r,c,s,i,o,u,p,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.user,e.next=3,b.firestore().collection("users").doc(a.uid).get();case 3:if(!(r=e.sent).exists){e.next=10;break}r=r.data(),s=(c=r).uid,i=c.location,o=c.nickname,u=c.phoneNumber,p=c.beverages,d=c.duration,a={uid:s,location:i,nickname:o,phoneNumber:u,beverages:p,duration:d},e.next=13;break;case 10:return e.next=12,b.firestore().collection("users").doc(a.uid).set({uid:a.uid});case 12:a={uid:a.uid};case 13:t({type:te,payload:{user:a}});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(a){console.log(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},signUpWithEmailPassword:function(e,t){return function(){var n=Object(u.a)(l.a.mark((function n(a){var r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,b.auth().createUserWithEmailAndPassword(e,t);case 3:return r=(r=n.sent).user,n.next=7,b.firestore().collection("users").doc(r.uid).set({uid:r.uid});case 7:r={uid:r.uid},a({type:ae,payload:{user:r}}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()},setAlert:Ie},gt=Object(J.b)(null,xt)(Object(Pe.a)((function(e){return{wrapper:{backgroundImage:"url('".concat(jt,"')"),backgroundSize:"cover"},textField:{background:"#272727",color:"white",outline:"white",borderRadius:"5px",padding:"5px"},container:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},loginWrapper:{height:"450px",display:"flex",justifyContent:"space-between",alignItems:"center",flexFlow:"column",background:"rgba(0,0,0,0.5)",padding:30,borderRadius:10},input:{color:"white ",outline:"white ",background:"none",fontSize:"22px",fontFamily:"Raleway",fontWeight:"800"},fbBtn:{background:"#0984e3",color:"white",fontWeight:"800","&:hover":{background:"slateblue",boxShadow:"1px 1px 5px white"}},loginBtn:{background:"#27d8a1",color:"white",width:"100%",fontWeight:"800","&:hover":{background:"#27d8a1",boxShadow:"1px 1px 5px white"}},heading:{marginBottom:"10px"}}}))(ft)),Ot=n(286),vt=n(287),wt=n(289),yt=function(e,t){var n=e.latitude*Math.PI/180,a=t.latitude*Math.PI/180,r=(t.latitude-e.latitude)*Math.PI/180,c=(t.longitude-t.longitude)*Math.PI/180,s=Math.sin(r/2)*Math.sin(r/2)+Math.cos(n)*Math.cos(a)*Math.sin(c/2)*Math.sin(c/2),i=6371e3*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)));return Math.abs(i/1e3)},kt=n(94),Ct=n.n(kt),St=n(149),Nt=n.n(St),It=n(146),Et=n.n(It),At=n(147),Ut=n.n(At),Dt=(n(202),n(211),n(203)({clientID:"CLC2AOG5D0D2BE42BKXUOI1B4GO0311EAN2SBN5Z123R1WKN",clientSecret:"0THSH3Q3GICA14DTKSMSJ4YYGDAUY5NKSIWTJABTX543MOAW"})),Mt=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={center:[0,0],zoom:14,draggable:!0,lat:45,lng:41,placeName:"",venues:[],place:"",picker:"",date:"",time:""},e.componentDidUpdate=function(t){try{t!==e.props&&e.setState({lat:e.props.coords.latitude,lng:e.props.coords.longitude,center:[e.props.coords.latitude,e.props.coords.longitude]},(function(){var t={ll:"".concat(e.state.lat,",").concat(e.state.lng)};console.log(t),Dt.venues.getVenues(t).then((function(t){e.setState({venues:t.response.venues}),console.log(t.response.venues)}))}))}catch(n){e.props.setAlert("Location Error","error")}},e.onchange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value),(function(){console.log(e.state)}))},e.componentDidMount=function(){},e.onCircleInteraction=function(t,n,a){e.setState({draggable:!1,lat:a.lat,lng:a.lng},(function(){})),console.log("onCircleInteraction called with",t,n,a)},e.onCircleInteraction3=function(t,n,a){e.setState({draggable:!0}),console.log("onCircleInteraction called with",t,n,a)},e.selectPlace=function(t){e.setState({lat:t.location.lat,lng:t.location.lng,placeName:t.name,place:Object(a.jsx)(Ot.a,{style:{width:"400px",height:"60px",fontSize:"20px"},children:Object(a.jsx)(vt.a,{children:Object(a.jsxs)(Re.a,{container:!0,children:[Object(a.jsx)(Re.a,{item:!0,xs:6,children:Object(a.jsx)(E.a,{children:t.name})}),Object(a.jsx)(Re.a,{item:!0,xs:3,children:Object(a.jsx)(Le.a,{variant:"contained",size:"small",color:"primary",onClick:function(){return e.onNext()},children:"Next"})}),Object(a.jsx)(Re.a,{item:!0,xs:3,children:Object(a.jsx)(Le.a,{variant:"contained",size:"small",color:"primary",onClick:function(){return e.openDirection(t.location)},children:"Direction"})})]})})})})},e.sendRequest=Object(u.a)(l.a.mark((function t(){var n,a,r,c,s,i,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state,a=n.date,r=n.time,c=n.placeName,s=n.lat,i=n.lng,a&&r&&c){t.next=4;break}return e.props.setAlert("Fill All Fields","error"),t.abrupt("return");case 4:return o={sentBy:e.props.user.uid,sentTo:e.props.userSelected,placeName:c,date:a,time:r,status:"PENDING",location:{latitude:s,longitude:i},userName:e.props.user.nickname},t.prev=5,t.next=8,b.firestore().collection("requests").add(o);case 8:e.props.setAlert("Request sent Successfully!","success"),e.props.history.push("/Dashboard"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),e.props.setAlert(t.t0.message,"error");case 15:case"end":return t.stop()}}),t,null,[[5,12]])}))),e.onNext=function(){var t=Object(a.jsxs)(Re.a,{container:!0,style:{background:"white",fontSize:"20px"},children:[Object(a.jsx)(Re.a,{item:!0,children:Object(a.jsx)(Ve.a,{name:"date",onChange:e.onchange,defaultValue:e.state.date,style:{width:"150px",padding:"2px"},type:"date"})}),Object(a.jsx)(Re.a,{item:!0,children:Object(a.jsx)(Ve.a,{defaultValue:e.state.time,onChange:e.onchange,name:"time",style:{width:"110px",padding:"2px"},type:"time"})}),Object(a.jsx)(Re.a,{item:!0,xs:4,children:Object(a.jsx)(Le.a,{onClick:e.sendRequest,variant:"outlined",size:"small",color:"secondary",children:"Send Request"})})]});e.setState({picker:t})},e.openDirection=function(e){window.open("https://www.google.com/maps/dir/".concat(e.lat,",").concat(e.lng),"_blank")},e}return Object(Qe.a)(n,[{key:"render",value:function(){var e=this;return console.log(this.props),Object(a.jsxs)("div",{style:{width:"400px",height:"300px"},children:[Object(a.jsx)(Je.a,{draggable:this.state.draggable,onChange:this._onChange,center:this.state.center,zoom:this.state.zoom,onChildClick:function(){return console.log("child click")},onClick:function(){return console.log("mapClick")},children:this.state.venues.map((function(t){return Object(a.jsx)($e.a,{className:"place",lat:t.location.lat,lng:t.location.lng,style:{color:"red"},onClick:function(){return e.selectPlace(t)}},Object(ze.a)())}))}),this.state.place,this.state.picker]})}}]),n}(c.a.Component),Tt={setAlert:Ie},Lt=Object(J.b)((function(e){return{user:e.user}}),Tt)(Object(f.f)(Object(Xe.geolocated)()(Mt))),Rt=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={simUsers:null,mapOpen:!1,userSelected:""},e.componentDidMount=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.clearRequest(),e.props.getUsers();case 2:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(t,n){t!==e.props&&e.setState({simUsers:e.props.similarUsers}),n.simUsers!==e.state.simUsers&&(console.log("chnge state"),setTimeout((function(){e.setState({b:1})}),1e3))},e.removeUser=function(t){e.setState({simUsers:e.state.simUsers.filter((function(e){return e.uid!==t}))})},e.showPopup=function(){var t=Object(u.a)(l.a.mark((function t(n,a){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ut.a.fire({title:"Are you sure?",text:"You want to meet ".concat(a,"?"),icon:"warning",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"});case 2:r=t.sent,console.log(r.value),r.value&&e.setState({mapOpen:!e.state.mapOpen,userSelected:e.state.simUsers[0].uid});case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e}return Object(Qe.a)(n,[{key:"render",value:function(){var e=this,t=this.props.classes;return console.log(this.state.simUsers),Object(a.jsx)("div",{className:"bg ".concat(t.wrapper),children:Object(a.jsxs)("div",{className:t.container,children:[Object(a.jsx)("h1",{className:t.mainHeading,children:"Meeting Dashboard"}),Object(a.jsx)("h3",{className:t.para,children:"Select User from the given list of users to meet."}),Object(a.jsx)("div",{className:t.cardContainer,children:this.state.simUsers&&this.state.simUsers[0]&&Object(a.jsx)(Ot.a,{style:{gridArea:"1/2"},children:Object(a.jsxs)(vt.a,{className:t.card,children:[Object(a.jsx)(Et.a,{bullets:!1,children:this.state.simUsers[0].images.map((function(e){return Object(a.jsx)("div",{"data-src":e},Object(ze.a)())}))}),Object(a.jsxs)("div",{className:t.cardOptions,children:[Object(a.jsx)(Ct.a,{className:t.tick,onClick:function(){return e.showPopup(e.state.simUsers[0].uid,e.state.simUsers[0].nickname)}}),Object(a.jsx)("h1",{children:this.state.simUsers[0].nickname}),Object(a.jsx)(Nt.a,{className:t.cross,onClick:function(){return e.removeUser(e.state.simUsers[0].uid)}})]})]})},Object(ze.a)())}),Object(a.jsx)(wt.a,{open:this.state.mapOpen,onClose:function(){return e.setState({mapOpen:!1})},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(a.jsx)("div",{style:{width:"400px",height:"400px"},children:Object(a.jsx)(Lt,{userSelected:this.state.userSelected})})})]})})}}]),n}(r.Component),Bt={getUsers:function(){return function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,a=setInterval((function(){n++,console.log("notfound"),Ne.getState().user.uid&&n<50&&(console.log("found"),clearInterval(a),t(!0))}),300);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return n=Ne.getState().user,a=n.beverages,r=n.duration,c=n.location,e.next=6,b.firestore().collection("users").get();case 6:e.sent.forEach(function(){var e=Object(u.a)(l.a.mark((function e(n){var s,i,o,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=n.data()).images=[],i=b.storage().ref("Images/".concat(n.id)),e.next=5,i.listAll().then((function(e){e.items.forEach(function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL().then((function(e){s.images=[].concat(Object(de.a)(s.images),[e])})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).catch((function(e){console.log(e)}));case 5:if(s&&a&&r){e.next=7;break}return e.abrupt("return");case 7:console.log(s),o=a.some((function(e){return s.beverages.includes(e)})),p=r.some((function(e){return s.duration.includes(e)})),yt(s.location,c)<=5&&o&&p&&t({type:he,payload:{user:s}});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setUsers:function(e){return{type:je,payload:{users:e}}},clearRequest:function(){return{type:we}}},Pt=Object(J.b)((function(e){return{user:e.user,similarUsers:e.similarUsers}}),Bt)(Object(Pe.a)((function(e){return{wrapper:{minHeight:"100vh",display:"grid",gridTemplateColumns:"minmax(10px,1fr) minmax(min-content,1100px) minmax(10px,1fr)",gridTemplateRows:"minmax(10px,1fr) minmax(400px,min-content) minmax(10px,1fr)"},container:{gridArea:"2/2",background:"white",borderRadius:"10px",height:"100%",padding:"20px"},mainHeading:{textAlign:"center",color:"#222"},para:{color:"#636e72"},cardContainer:{display:"grid",gridTemplateColumns:"1fr 350px 1fr"},card:{"&>div>h1":{textAlign:"center"}},cardOptions:{display:"grid",gridTemplateColumns:"min-content 1fr min-content",justifyContent:"center",alignItems:"center"},tick:{color:"green",fontSize:"35px",cursor:"pointer"},cross:{color:"red",fontSize:"35px",cursor:"pointer"}}}))(Rt)),zt=function(){return Object(a.jsxs)(f.c,{children:[Object(a.jsx)(f.a,{path:"/Login",component:gt}),Object(a.jsx)(f.a,{path:"/Dashboard",render:function(e){return Object(a.jsx)("div",{children:Object(a.jsx)(Te,Object(x.a)(Object(x.a)({},e),{},{children:Object(a.jsx)(ot,Object(x.a)({},e))}))})}}),Object(a.jsx)(f.a,{path:"/MeetingDashboard",render:function(e){return Object(a.jsx)("div",{children:Object(a.jsx)(Te,Object(x.a)(Object(x.a)({},e),{},{children:Object(a.jsx)(Pt,Object(x.a)({},e))}))})}})]})},qt=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).componentDidMount=function(){m.onAuthStateChanged(function(){var t=Object(u.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=9;break}return t.next=3,b.firestore().collection("users").doc(n.uid).get();case 3:(a=(a=t.sent).data())&&e.props.setUser(a),"/Login"!==e.props.history.location.pathname&&"/"!==e.props.history.location.pathname||e.props.history.push("/Dashboard"),t.next=10;break;case 9:e.props.history.push("/Login");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),window.onerror=function(t,n,a,r,c){e.props.setAlert(t,"error")}},e.render=function(){return Object(a.jsxs)("div",{children:[e.props.alert,Object(a.jsx)(zt,{})]})},e}return n}(c.a.Component),Wt={setUser:function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.firestore().collection("users").doc(e.uid).update(e);case 2:n({type:re,payload:{user:e}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setAlert:Ie},_t=Object(J.b)((function(e){return{alert:e.alert}}),Wt)(Object(f.f)(qt)),Ft=n(73);i.a.render(Object(a.jsx)(J.a,{store:Ne,children:Object(a.jsx)(Ft.a,{children:Object(a.jsx)(_t,{})})}),document.getElementById("root"))}},[[212,1,2]]]);
//# sourceMappingURL=main.2c862990.chunk.js.map