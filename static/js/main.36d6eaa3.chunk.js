(this.webpackJsonpmeetup=this.webpackJsonpmeetup||[]).push([[0],{173:function(e,t,n){},174:function(e,t,n){},214:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(0),s=n.n(r),c=n(12),i=n.n(c),o=(n(173),n(10)),l=n.n(o),u=n(15),d=n(34),p=n(38),j=n(37),h=(n(174),n(84));h.a.initializeApp({apiKey:"AIzaSyDOWz4LAypqmSwbZeCCB0syLlrbGefOYRE",authDomain:"meet-app-3d1ce.firebaseapp.com",databaseURL:"https://meet-app-3d1ce.firebaseio.com",projectId:"meet-app-3d1ce",storageBucket:"meet-app-3d1ce.appspot.com",messagingSenderId:"875169633634",appId:"1:875169633634:web:57e13969b67c84e9c8c83b"});var b=h.a,m=(h.a.firestore(),h.a.auth()),f=n(23),x=n(26),g=n(46),O=n(31),v=n(6),w=n(269),y=n(35),k=n(295),S=n(271),C=n(272),N=n(275),I=n(270),E=n(97),A=n(278),U=n(268),D=n(130),M=n.n(D),T=n(133),L=n.n(T),R=n(132),B=n.n(R),P=n(215),z=n(279),q=n(280),W=n(108),_=n.n(W),F=n(109),G=n.n(F),H=n(273),V=n(297),Y=n(153),K=n(276),J=n(28),X=n(134),Q=n.n(X),Z=n(107),$=n.n(Z),ee=n(44),te="SIGNINEMAILPASS",ne="LOGINWITHFACEBOOK",ae="SIGNOUT",re="SIGNUP",se="SETUSER",ce="SET_LOCATION",ie="INIT_PROFILE",oe="ADD_IMAGE_TO_STORE_USER",le=n(89),ue=n.n(le),de=n(50),pe=n(125),je="GET_SIMILAR_USERS",he="SET_USERS",be=[],me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case je:return[].concat(Object(ee.a)(e),[a.user]);case he:return a.users;default:return e}},fe={},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case te:case ne:case ae:case re:case se:return a.user;case ce:var r=Object(x.a)(Object(x.a)({},e),{},{location:a.location});return r;case ie:return Object(x.a)(Object(x.a)({},e),a.obj);case oe:return Object(x.a)(Object(x.a)({},e),{},{images:a.images});default:return e}},ge=n(290),Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"SET_ALERT":var s=r.msg,c=r.status;return Object(a.jsx)(ge.a,{variant:"filled",style:{top:"calc(100vh - 80px)",transform:"translateX(5vw)",zIndex:"2000"},severity:c,children:s});case"REMOVE_ALERT":return"";default:return e}},ve="SET_REQUESTS",we="CLEAR",ye=[],ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case ve:return[].concat(Object(ee.a)(e),[a.obj]);case we:return[];default:return e}},Se=Object(de.combineReducers)({user:xe,similarUsers:me,alert:Oe,requests:ke}),Ce=[n(129).a],Ne=Object(de.createStore)(Se,Object(pe.composeWithDevTools)(de.applyMiddleware.apply(void 0,Ce))),Ie=function(e,t){return function(){var n=Object(u.a)(l.a.mark((function n(a){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a({type:"SET_ALERT",payload:{msg:e,status:t}}),setTimeout((function(){a({type:"REMOVE_ALERT"})}),5e3);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Ee=n(135),Ae=n.n(Ee),Ue=n(106),De=n.n(Ue),Me=n(131),Te=n.n(Me),Le=240,Re=Object(w.a)((function(e){var t;return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),background:"#1e272e"},appBarShift:{marginLeft:Le,width:"calc(100% - ".concat(Le,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:Le,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:Le,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),background:"inherit"},drawerClose:(t={transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},Object(O.a)(t,e.breakpoints.up("sm"),{width:e.spacing(9)+1}),Object(O.a)(t,"background","inherit"),t),toolbar:Object(x.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)},menuItem:{},list:{},icon:{color:"white"},drw:{background:"#222"},text:{color:"white"}}}));var Be={signOut:function(){return function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.auth().signOut();case 2:e.sent,t({type:ae,payload:{user:{}}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Pe=Object(J.b)((function(e){return{user:e.user}}),Be)((function(e){var t,n,r=Re(),c=Object(y.a)(),i=s.a.useState(!1),o=Object(g.a)(i,2),l=o[0],u=o[1],d=s.a.useState(null),p=Object(g.a)(d,2),j=p[0],h=p[1],b=function(){h(null)};return Object(a.jsxs)("div",{className:r.root,children:[Object(a.jsx)(I.a,{}),Object(a.jsx)(S.a,{position:"fixed",className:Object(v.a)(r.appBar,Object(O.a)({},r.appBarShift,l)),children:Object(a.jsxs)(C.a,{children:[Object(a.jsx)(U.a,{color:"inherit","aria-label":"open drawer",onClick:function(){u(!0)},edge:"start",className:Object(v.a)(r.menuButton,Object(O.a)({},r.hide,l)),children:Object(a.jsx)(M.a,{})}),Object(a.jsxs)(E.a,{variant:"h6",noWrap:!0,children:["MEET",Object(a.jsx)("b",{children:"O"})]}),Object(a.jsx)(H.a,{style:{left:"calc(100% - 200px)"},size:"medium",color:"primary","aria-label":"avatar",children:Object(a.jsx)(V.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){h(e.currentTarget)},src:e.user.images?e.user.images[0]:""})}),Object(a.jsxs)(Y.a,{id:"simple-menu",anchorEl:j,keepMounted:!0,open:Boolean(j),onClose:b,style:{top:"50px"},children:[Object(a.jsxs)(K.a,{className:r.menuItem,onClick:b,children:[Object(a.jsx)(Te.a,{}),"\xa0",e.user.nickname]}),Object(a.jsxs)(K.a,{className:r.menuItem,onClick:function(){e.history.push("Settings"),b()},children:[Object(a.jsx)(De.a,{}),"\xa0Settings"]}),Object(a.jsxs)(K.a,{className:r.menuItem,onClick:function(){b(),e.signOut()},children:[Object(a.jsx)($.a,{}),"\xa0Logout"]})]})]})}),Object(a.jsxs)(k.a,{variant:"permanent",className:Object(v.a)(r.drawer,(t={},Object(O.a)(t,r.drawerOpen,l),Object(O.a)(t,r.drawerClose,!l),t),r.drw),classes:{paper:Object(v.a)((n={},Object(O.a)(n,r.drawerOpen,l),Object(O.a)(n,r.drawerClose,!l),n))},children:[Object(a.jsx)("div",{className:r.toolbar,children:Object(a.jsx)(U.a,{className:r.text,onClick:function(){u(!1)},children:"rtl"===c.direction?Object(a.jsx)(B.a,{}):Object(a.jsx)(L.a,{})})}),Object(a.jsx)(A.a,{}),Object(a.jsxs)(N.a,{className:r.list,children:[Object(a.jsxs)(P.a,{onClick:function(){return e.history.push("Dashboard")},button:!0,children:[Object(a.jsx)(z.a,{children:Object(a.jsx)(Q.a,{className:r.icon})}),Object(a.jsx)(q.a,{className:r.text,primary:"Dashboard"})]},"Dashboard"),Object(a.jsxs)(P.a,{onClick:function(){return e.history.push("MeetingDashboard")},button:!0,children:[Object(a.jsx)(z.a,{children:Object(a.jsx)(Ae.a,{className:r.icon})}),Object(a.jsx)(q.a,{className:r.text,primary:"Meet Someone"})]},"Meet Someone"),["Inbox","Starred"].map((function(e,t){return Object(a.jsxs)(P.a,{button:!0,children:[Object(a.jsx)(z.a,{children:t%2===0?Object(a.jsx)(_.a,{className:r.icon}):Object(a.jsx)(G.a,{className:r.icon})}),Object(a.jsx)(q.a,{className:r.text,primary:e})]},e)}))]}),Object(a.jsx)(A.a,{}),Object(a.jsxs)(N.a,{className:r.list,children:[["All mail"].map((function(e,t){return Object(a.jsxs)(P.a,{button:!0,children:[Object(a.jsx)(z.a,{children:t%2===0?Object(a.jsx)(_.a,{className:r.icon}):Object(a.jsx)(G.a,{className:r.icon})}),Object(a.jsx)(q.a,{className:r.text,primary:e})]},e)})),Object(a.jsxs)(P.a,{onClick:function(){return e.history.push("Settings")},button:!0,children:[Object(a.jsx)(z.a,{children:Object(a.jsx)(De.a,{className:r.icon})}),Object(a.jsx)(q.a,{className:r.text,primary:"Settings"})]},"Swttings"),Object(a.jsxs)(P.a,{onClick:e.signOut,button:!0,children:[Object(a.jsx)(z.a,{children:Object(a.jsx)($.a,{className:r.icon})}),Object(a.jsx)(q.a,{className:r.text,primary:"Sign Out"})]},"Sign Out")]})]}),Object(a.jsx)("main",{style:{width:"100%"},children:e.children})]})})),ze=n(282),qe=n(281),We=n(292),_e=n(8),Fe=n(293),Ge=n(296),He=n(283),Ve=n(294),Ye=n(299),Ke=n(286),Je=n(301),Xe=n(284),Qe=n(298),Ze=n(152),$e=n(75),et=n(64),tt=(n(191),n(65)),nt=n(74),at=n.n(nt),rt=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={center:[0,0],zoom:9,draggable:!0,lat:45,lng:41},e.componentDidUpdate=function(t){t!==e.props&&e.setState({lat:e.props.coords.latitude,lng:e.props.coords.longitude,center:[e.props.coords.latitude,e.props.coords.longitude]},(function(){e.props.setLocation({latitude:e.state.lat,longitude:e.state.lng})}))},e.onCircleInteraction=function(t,n,a){e.setState({draggable:!1,lat:a.lat,lng:a.lng},(function(){e.props.setLocation({latitude:e.state.lat,longitude:e.state.lng})})),console.log("onCircleInteraction called with",t,n,a)},e.onCircleInteraction3=function(t,n,a){e.setState({draggable:!0}),console.log("onCircleInteraction called with",t,n,a)},e}return Object(tt.a)(n,[{key:"render",value:function(){return console.log(this.props),Object(a.jsx)($e.a,{draggable:this.state.draggable,onChange:this._onChange,center:this.state.center,zoom:this.state.zoom,onChildMouseDown:this.onCircleInteraction,onChildMouseUp:this.onCircleInteraction3,onChildMouseMove:this.onCircleInteraction,onChildClick:function(){return console.log("child click")},onClick:function(){return console.log("mapClick")},children:Object(a.jsx)(at.a,{className:"place",lat:this.state.lat,lng:this.state.lng,style:{color:"red"}})})}}]),n}(s.a.Component),st={setLocation:function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.firestore().collection("users").doc(Ne.getState().user.uid).update({location:e});case 2:return t.abrupt("return",{type:ce,payload:{location:e}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},ct=Object(J.b)(null,st)(Object(et.geolocated)()(rt)),it=Object(w.a)((function(e){return{root:{width:"100%"},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}));var ot={saveProfile:function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.firestore().collection("users").doc(Ne.getState().user.uid).update(e);case 2:n({type:ie,payload:{obj:e}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},uploadImages:function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){var a,r,s,c,i,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=b.storage().ref().child("Images/".concat(Ne.getState().user.uid,"/")),r=[],s=0;case 3:if(!(s<e.length)){t.next=16;break}return c=e[s],t.next=7,a.child(c.name).put(c);case 7:return i=t.sent,t.next=10,i.ref.getDownloadURL();case 10:o=t.sent,console.log(o),r=[].concat(Object(ee.a)(r),[o]);case 13:s++,t.next=3;break;case 16:return n({type:oe,payload:{images:r}}),t.next=19,b.firestore().collection("users").doc(Ne.getState().user.uid).update({images:r});case 19:ue()("Upload Successfull","","success");case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setAlert:Ie},lt=Object(J.b)((function(e){return{user:e.user}}),ot)(Object(et.geolocated)()((function(e){var t=it(),n=s.a.useState(0),r=Object(g.a)(n,2),c=r[0],i=r[1],o=["Initial Setup","Upload Images","Select Props","Location"],l=s.a.useState(""),u=Object(g.a)(l,2),d=u[0],p=u[1],j=s.a.useState(""),h=Object(g.a)(j,2),b=h[0],m=h[1],f=s.a.useState([]),x=Object(g.a)(f,2),O=x[0],v=x[1],w=s.a.useState([]),y=Object(g.a)(w,2),k=y[0],S=y[1],C=s.a.useState([]),N=Object(g.a)(C,2),I=N[0],A=N[1];return Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)(Ge.a,{activeStep:c,alternativeLabel:!0,children:o.map((function(e){return Object(a.jsx)(He.a,{children:Object(a.jsx)(Ve.a,{children:e})},e)}))}),Object(a.jsx)("div",{children:c===o.length?Object(a.jsxs)("div",{children:[Object(a.jsx)(E.a,{className:t.instructions,children:"All steps completed"}),Object(a.jsx)(ze.a,{variant:"contained",color:"primary",onClick:function(){var t={duration:I,beverages:k,phoneNumber:b,nickname:d};e.saveProfile(t),e.uploadImages(O),e.setAlert("Uploading Info...","Info")},children:"Save Data"}),Object(a.jsx)(ze.a,{onClick:function(){i(0),v([]),S([]),A([])},children:"Reset"})]}):Object(a.jsxs)("div",{className:t.instructions,children:[function(){switch(c){case 0:return Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},children:[Object(a.jsx)(Ye.a,{id:"standard-basic",value:d,onChange:function(e){console.log(d),p(e.target.value)},label:"Nickname",type:"text",required:!0}),Object(a.jsx)(Ye.a,{id:"standard-basic",value:b,onChange:function(e){return m(e.target.value)},label:"Phone Number",type:"tel",required:!0})]});case 1:return Object(a.jsx)(Ze.a,{filesLimit:3,acceptedFiles:["image/*"],v:!0,onChange:function(e){return v(e)}});case 2:return Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},children:[Object(a.jsxs)(Ke.a,{style:{minWidth:"150px"},children:[Object(a.jsx)(Je.a,{id:"demo-mutiple-chip-label",children:"Select Beverages"}),Object(a.jsx)(We.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",multiple:!0,value:k,onChange:function(e){S(e.target.value)},input:Object(a.jsx)(Xe.a,{id:"select-multiple-chip"}),renderValue:function(e){return Object(a.jsx)("div",{className:t.chips,children:e.map((function(e){return Object(a.jsx)(Qe.a,{label:e,className:t.chip},e)}))})},children:["Coffee","Juice","Cocktail"].map((function(e){return Object(a.jsx)(K.a,{value:e,children:e},e)}))})]}),Object(a.jsxs)(Ke.a,{style:{minWidth:"150px"},children:[Object(a.jsx)(Je.a,{id:"demo-mutiple-chip-label",children:"Set Duration mins"}),Object(a.jsx)(We.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",multiple:!0,value:I,onChange:function(e){A(e.target.value)},input:Object(a.jsx)(Xe.a,{id:"select-multiple-chip"}),renderValue:function(e){return Object(a.jsx)("div",{className:t.chips,children:e.map((function(e){return Object(a.jsx)(Qe.a,{label:e,className:t.chip},e)}))})},children:["20","60","120"].map((function(e){return Object(a.jsx)(K.a,{value:e,children:e},e)}))})]})]});case 3:return Object(a.jsx)("div",{style:{height:"300px",width:"100%"},children:Object(a.jsx)(ct,{})});default:return"Unknown stepIndex"}}(),Object(a.jsxs)("div",{style:{marginTop:"20px"},children:[Object(a.jsx)(ze.a,{disabled:0===c,onClick:function(){i((function(e){return e-1}))},className:t.backButton,children:"Back"}),Object(a.jsx)(ze.a,{variant:"contained",color:"primary",onClick:function(){i((function(e){return e+1}))},children:c===o.length-1?"Finish":"Next"})]})]})})]})}))),ut=(n(196),function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={userInfoExists:!1},e.componentDidUpdate=function(){var t=Object(u.a)(l.a.mark((function t(n){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n===e.props){t.next=7;break}if(e.state.userInfoExists||!e.props.user.uid){t.next=7;break}return t.next=4,b.firestore().collection("users").doc(e.props.user.uid).get();case 4:a=t.sent,(r=a.data()).beverages&&r.duration&&r.nickname&&r.phoneNumber&&r.images&&r.location?e.setState({userInfoExists:!0}):e.setState({userInfoExists:!1});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.componentDidMount=Object(u.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=e.props.user).beverages&&n.duration&&n.nickname&&n.phoneNumber&&n.images&&n.location&&e.setState({userInfoExists:!0}),e.props.getRequests();case 3:case"end":return t.stop()}}),t)}))),e.render=function(){var t=e.props.classes;return Object(a.jsx)("div",{className:"".concat(t.wrapper," bg"),children:Object(a.jsxs)("div",{className:"".concat(t.stepper),children:[!e.state.userInfoExists&&Object(a.jsx)(lt,{}),e.state.userInfoExists&&e.props.requests.length<=0&&Object(a.jsxs)("div",{style:{display:"flex",flexFlow:"column",justifyContent:"center",alignItems:"center"},children:[Object(a.jsx)("h2",{children:"You Haven't Done any meeting yet"}),Object(a.jsx)(ze.a,{variant:"contained",color:"primary",onClick:function(){e.props.history.push("MeetingDashboard")},children:"Start A Meeting"})]}),console.log(e.props.requests.length),e.state.userInfoExists&&e.props.requests.length>0&&Object(a.jsxs)("div",{children:[Object(a.jsx)(E.a,{className:t.heading,variant:"h1",children:"All Meetings"}),e.props.requests.map((function(e){return Object(a.jsxs)(qe.a,{container:!0,className:t.row,alignItems:"center",children:[Object(a.jsx)(qe.a,{item:!0,xs:2,children:Object(a.jsx)(V.a,{src:"".concat(e.images[0])})}),Object(a.jsx)(qe.a,{item:!0,xs:3,children:Object(a.jsx)(E.a,{children:e.userName})}),Object(a.jsx)(qe.a,{item:!0,xs:3,children:Object(a.jsxs)(We.a,{value:e.status,children:[Object(a.jsx)(K.a,{value:"PENDING",children:"PENDING"}),Object(a.jsx)(K.a,{value:"CANCELLED",children:"CANCELLED"}),Object(a.jsx)(K.a,{value:"ACCEPTED",children:"ACCEPTED"}),Object(a.jsx)(K.a,{value:"COMPLICATED",children:"COMPLICATED"}),Object(a.jsx)(K.a,{value:"DONE",children:"DONE"})]})}),Object(a.jsx)(qe.a,{item:!0,xs:2,children:Object(a.jsx)(E.a,{variant:"button",children:e.date})}),Object(a.jsx)(qe.a,{item:!0,xs:2,children:Object(a.jsx)(ze.a,{onClick:function(){window.open("https://www.google.com/maps/dir/".concat(e.location.latitude,",").concat(e.location.longitude),"_blank")},color:"secondary",children:"Location"})})]},Object(Fe.a)())}))]})]})})},e}return n}(s.a.Component)),dt={getRequests:function(){return function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,a=setInterval((function(){n++,console.log("notfound"),Ne.getState().user.uid&&n<50&&(console.log("found"),clearInterval(a),t(!0))}),300);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.next=4,b.firestore().collection("requests").where("sentTo","==",Ne.getState().user.uid).get();case 4:e.sent.forEach(function(){var e=Object(u.a)(l.a.mark((function e(n){var a,r,s,c,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=n.data()).docId=n.id,a.images=[],r=b.storage().ref("Images/".concat(a.sentBy)),e.next=6,r.listAll();case 6:s=e.sent,c=0;case 8:if(!(c<s.items.length)){e.next=17;break}return i=s.items[c],e.next=12,i.getDownloadURL();case 12:o=e.sent,a.images=[].concat(Object(ee.a)(a.images),[o]);case 14:c++,e.next=8;break;case 17:t({type:ve,payload:{obj:a}});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},pt=Object(J.b)((function(e){return{user:e.user,requests:e.requests}}),dt)(Object(_e.a)((function(e){return{stepper:{width:"500px",padding:"20px",background:"white",borderRadius:"10px"},wrapper:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},heading:{fontFamily:"'Roboto Slab', serif",fontSize:"40px",fontWeight:"bolder",marginBottom:"10px"},row:{margin:"10px 0"}}}))(ut)),jt=n(287),ht=n(146),bt=n.n(ht),mt=n(145),ft=n.n(mt),xt=n.p+"static/media/Login-bg.f0bee7d3.jpg",gt=n(147),Ot=n.n(gt),vt=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={email:"",password:""},e.onchange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value))},e.facebookLogin=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{e.props.loginwithfacebook()}catch(n){e.props.setAlert(n.message,"error")}case 1:case"end":return t.stop()}}),t)}))),e.login=Object(u.a)(l.a.mark((function t(){var n,a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state,a=n.email,r=n.password;try{e.props.signInWithEmailPassword(a,r)}catch(s){e.props.setAlert(s.message,"error")}case 2:case"end":return t.stop()}}),t)}))),e.signUp=Object(u.a)(l.a.mark((function t(){var n,a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state,a=n.email,r=n.password;try{e.props.signUpWithEmailPassword(a,r)}catch(s){e.props.setAlert(s.message,"error")}case 2:case"end":return t.stop()}}),t)}))),e.render=function(){var t=e.props.classes;return Object(a.jsx)("div",{className:t.wrapper,children:Object(a.jsx)(jt.a,{className:t.container,children:Object(a.jsxs)("div",{className:t.loginWrapper,children:[Object(a.jsxs)("h1",{className:"".concat(t.heading," mainHeading"),children:["MEET",Object(a.jsx)("span",{children:"O"})]}),Object(a.jsxs)(ze.a,{className:t.fbBtn,onClick:e.facebookLogin,children:[Object(a.jsx)(ft.a,{}),"Login with Facebook"]}),Object(a.jsxs)(qe.a,{className:t.textField,container:!0,spacing:1,alignItems:"flex-end",children:[Object(a.jsx)(qe.a,{item:!0,children:Object(a.jsx)(bt.a,{})}),Object(a.jsxs)(qe.a,{item:!0,children:[Object(a.jsx)("input",{name:"email",onChange:e.onchange,value:e.state.email,type:"email",className:t.input,placeholder:"email"}),Object(a.jsx)("br",{})]})]}),Object(a.jsxs)(qe.a,{className:t.textField,container:!0,spacing:1,alignItems:"flex-end",children:[Object(a.jsx)(qe.a,{item:!0,children:Object(a.jsx)(Ot.a,{})}),Object(a.jsxs)(qe.a,{item:!0,children:[Object(a.jsx)("input",{name:"password",type:"password",onChange:e.onchange,value:e.state.password,className:t.input,placeholder:"password"}),Object(a.jsx)("br",{})]})]}),Object(a.jsx)(ze.a,{onClick:e.login,className:t.loginBtn,children:"Login"}),Object(a.jsx)(ze.a,{onClick:e.signUp,className:t.loginBtn,children:"SignUP"})]})})})},e}return n}(s.a.Component),wt={signInWithEmailPassword:function(e,t){return function(){var n=Object(u.a)(l.a.mark((function n(a){var r,s,c,i,o,u,d,p,j;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,b.auth().signInWithEmailAndPassword(e,t);case 3:return r=(r=n.sent).user,n.next=7,b.firestore().collection("users").doc(r.uid).get();case 7:s=(s=n.sent).data(),i=(c=s).uid,o=c.location,u=c.nickname,d=c.phoneNumber,p=c.beverages,j=c.duration,a({type:te,payload:{user:{uid:i,location:o,nickname:u,phoneNumber:d,beverages:p,duration:j}}}),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),ue()(n.t0.message,"","error");case 16:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(e){return n.apply(this,arguments)}}()},loginwithfacebook:function(){return function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=new b.auth.FacebookAuthProvider,b.auth().signInWithPopup(n).then(function(){var e=Object(u.a)(l.a.mark((function e(n){var a,r,s,c,i,o,u,d,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.user,e.next=3,b.firestore().collection("users").doc(a.uid).get();case 3:if(!(r=e.sent).exists){e.next=10;break}r=r.data(),c=(s=r).uid,i=s.location,o=s.nickname,u=s.phoneNumber,d=s.beverages,p=s.duration,a={uid:c,location:i,nickname:o,phoneNumber:u,beverages:d,duration:p},e.next=13;break;case 10:return e.next=12,b.firestore().collection("users").doc(a.uid).set({uid:a.uid});case 12:a={uid:a.uid};case 13:t({type:ne,payload:{user:a}});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(a){console.log(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},signUpWithEmailPassword:function(e,t){return function(){var n=Object(u.a)(l.a.mark((function n(a){var r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,b.auth().createUserWithEmailAndPassword(e,t);case 3:return r=(r=n.sent).user,n.next=7,b.firestore().collection("users").doc(r.uid).set({uid:r.uid});case 7:r={uid:r.uid},a({type:re,payload:{user:r}}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()},setAlert:Ie},yt=Object(J.b)(null,wt)(Object(_e.a)((function(e){return{wrapper:{backgroundImage:"url('".concat(xt,"')"),backgroundSize:"cover"},textField:{background:"#272727",color:"white",outline:"white",borderRadius:"5px",padding:"5px"},container:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},loginWrapper:{height:"450px",display:"flex",justifyContent:"space-between",alignItems:"center",flexFlow:"column",background:"rgba(0,0,0,0.5)",padding:30,borderRadius:10},input:{color:"white ",outline:"white ",background:"none",fontSize:"22px",fontFamily:"Raleway",fontWeight:"800"},fbBtn:{background:"#0984e3",color:"white",fontWeight:"800","&:hover":{background:"slateblue",boxShadow:"1px 1px 5px white"}},loginBtn:{background:"#27d8a1",color:"white",width:"100%",fontWeight:"800","&:hover":{background:"#27d8a1",boxShadow:"1px 1px 5px white"}},heading:{marginBottom:"10px"}}}))(vt)),kt=n(288),St=n(289),Ct=n(291),Nt=function(e,t){var n=e.latitude*Math.PI/180,a=t.latitude*Math.PI/180,r=(t.latitude-e.latitude)*Math.PI/180,s=(t.longitude-t.longitude)*Math.PI/180,c=Math.sin(r/2)*Math.sin(r/2)+Math.cos(n)*Math.cos(a)*Math.sin(s/2)*Math.sin(s/2),i=6371e3*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)));return Math.abs(i/1e3)},It=n(95),Et=n.n(It),At=n(151),Ut=n.n(At),Dt=n(148),Mt=n.n(Dt),Tt=n(149),Lt=n.n(Tt),Rt=(n(204),n(213),n(205)({clientID:"CLC2AOG5D0D2BE42BKXUOI1B4GO0311EAN2SBN5Z123R1WKN",clientSecret:"0THSH3Q3GICA14DTKSMSJ4YYGDAUY5NKSIWTJABTX543MOAW"})),Bt=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={center:[0,0],zoom:14,draggable:!0,lat:45,lng:41,placeName:"",venues:[],place:"",picker:"",date:"",time:""},e.componentDidUpdate=function(t){try{t!==e.props&&e.setState({lat:e.props.coords.latitude,lng:e.props.coords.longitude,center:[e.props.coords.latitude,e.props.coords.longitude]},(function(){var t={ll:"".concat(e.state.lat,",").concat(e.state.lng)};console.log(t),Rt.venues.getVenues(t).then((function(t){e.setState({venues:t.response.venues}),console.log(t.response.venues)}))}))}catch(n){e.props.setAlert("Location Error","error")}},e.onchange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value),(function(){console.log(e.state)}))},e.componentDidMount=function(){},e.onCircleInteraction=function(t,n,a){e.setState({draggable:!1,lat:a.lat,lng:a.lng},(function(){})),console.log("onCircleInteraction called with",t,n,a)},e.onCircleInteraction3=function(t,n,a){e.setState({draggable:!0}),console.log("onCircleInteraction called with",t,n,a)},e.selectPlace=function(t){e.setState({lat:t.location.lat,lng:t.location.lng,placeName:t.name,place:Object(a.jsx)(kt.a,{style:{width:"400px",height:"60px",fontSize:"20px"},children:Object(a.jsx)(St.a,{children:Object(a.jsxs)(qe.a,{container:!0,children:[Object(a.jsx)(qe.a,{item:!0,xs:6,children:Object(a.jsx)(E.a,{children:t.name})}),Object(a.jsx)(qe.a,{item:!0,xs:3,children:Object(a.jsx)(ze.a,{variant:"contained",size:"small",color:"primary",onClick:function(){return e.onNext()},children:"Next"})}),Object(a.jsx)(qe.a,{item:!0,xs:3,children:Object(a.jsx)(ze.a,{variant:"contained",size:"small",color:"primary",onClick:function(){return e.openDirection(t.location)},children:"Direction"})})]})})})})},e.sendRequest=Object(u.a)(l.a.mark((function t(){var n,a,r,s,c,i,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state,a=n.date,r=n.time,s=n.placeName,c=n.lat,i=n.lng,a&&r&&s){t.next=4;break}return e.props.setAlert("Fill All Fields","error"),t.abrupt("return");case 4:return o={sentBy:e.props.user.uid,sentTo:e.props.userSelected,placeName:s,date:a,time:r,status:"PENDING",location:{latitude:c,longitude:i},userName:e.props.user.nickname},t.prev=5,t.next=8,b.firestore().collection("requests").add(o);case 8:e.props.setAlert("Request sent Successfully!","success"),e.props.history.push("/Dashboard"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),e.props.setAlert(t.t0.message,"error");case 15:case"end":return t.stop()}}),t,null,[[5,12]])}))),e.onNext=function(){var t=Object(a.jsxs)(qe.a,{container:!0,style:{background:"white",fontSize:"20px"},children:[Object(a.jsx)(qe.a,{item:!0,children:Object(a.jsx)(Xe.a,{name:"date",onChange:e.onchange,defaultValue:e.state.date,style:{width:"150px",padding:"2px"},type:"date"})}),Object(a.jsx)(qe.a,{item:!0,children:Object(a.jsx)(Xe.a,{defaultValue:e.state.time,onChange:e.onchange,name:"time",style:{width:"110px",padding:"2px"},type:"time"})}),Object(a.jsx)(qe.a,{item:!0,xs:4,children:Object(a.jsx)(ze.a,{onClick:e.sendRequest,variant:"outlined",size:"small",color:"secondary",children:"Send Request"})})]});e.setState({picker:t})},e.openDirection=function(e){window.open("https://www.google.com/maps/dir/".concat(e.lat,",").concat(e.lng),"_blank")},e}return Object(tt.a)(n,[{key:"render",value:function(){var e=this;return console.log(this.props),Object(a.jsxs)("div",{style:{width:"400px",height:"300px"},children:[Object(a.jsx)($e.a,{draggable:this.state.draggable,onChange:this._onChange,center:this.state.center,zoom:this.state.zoom,onChildClick:function(){return console.log("child click")},onClick:function(){return console.log("mapClick")},children:this.state.venues.map((function(t){return Object(a.jsx)(at.a,{className:"place",lat:t.location.lat,lng:t.location.lng,style:{color:"red"},onClick:function(){return e.selectPlace(t)}},Object(Fe.a)())}))}),this.state.place,this.state.picker]})}}]),n}(s.a.Component),Pt={setAlert:Ie},zt=Object(J.b)((function(e){return{user:e.user}}),Pt)(Object(f.f)(Object(et.geolocated)()(Bt))),qt=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={simUsers:null,mapOpen:!1,userSelected:""},e.componentDidMount=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.clearRequest(),e.props.getUsers();case 2:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(t,n){t!==e.props&&e.setState({simUsers:e.props.similarUsers}),n.simUsers!==e.state.simUsers&&(console.log("chnge state"),setTimeout((function(){e.setState({b:1})}),1e3))},e.removeUser=function(t){e.setState({simUsers:e.state.simUsers.filter((function(e){return e.uid!==t}))})},e.showPopup=function(){var t=Object(u.a)(l.a.mark((function t(n,a){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Lt.a.fire({title:"Are you sure?",text:"You want to meet ".concat(a,"?"),icon:"warning",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"});case 2:r=t.sent,console.log(r.value),r.value&&e.setState({mapOpen:!e.state.mapOpen,userSelected:e.state.simUsers[0].uid});case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e}return Object(tt.a)(n,[{key:"render",value:function(){var e=this,t=this.props.classes;return console.log(this.state.simUsers),Object(a.jsx)("div",{className:"bg ".concat(t.wrapper),children:Object(a.jsxs)("div",{className:t.container,children:[Object(a.jsx)("h1",{className:t.mainHeading,children:"Meeting Dashboard"}),Object(a.jsx)("h3",{className:t.para,children:"Select User from the given list of users to meet."}),Object(a.jsx)("div",{className:t.cardContainer,children:this.state.simUsers&&this.state.simUsers[0]&&Object(a.jsx)(kt.a,{style:{gridArea:"1/2"},children:Object(a.jsxs)(St.a,{className:t.card,children:[Object(a.jsx)(Mt.a,{bullets:!1,children:this.state.simUsers[0].images.map((function(e){return Object(a.jsx)("div",{"data-src":e},Object(Fe.a)())}))}),Object(a.jsxs)("div",{className:t.cardOptions,children:[Object(a.jsx)(Et.a,{className:t.tick,onClick:function(){return e.showPopup(e.state.simUsers[0].uid,e.state.simUsers[0].nickname)}}),Object(a.jsx)("h1",{children:this.state.simUsers[0].nickname}),Object(a.jsx)(Ut.a,{className:t.cross,onClick:function(){return e.removeUser(e.state.simUsers[0].uid)}})]})]})},Object(Fe.a)())}),Object(a.jsx)(Ct.a,{open:this.state.mapOpen,onClose:function(){return e.setState({mapOpen:!1})},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(a.jsx)("div",{style:{width:"400px",height:"400px"},children:Object(a.jsx)(zt,{userSelected:this.state.userSelected})})})]})})}}]),n}(r.Component),Wt={getUsers:function(){return function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,a=setInterval((function(){n++,console.log("notfound"),Ne.getState().user.uid&&n<50&&(console.log("found"),clearInterval(a),t(!0))}),300);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return n=Ne.getState().user,a=n.beverages,r=n.duration,s=n.location,e.next=6,b.firestore().collection("users").get();case 6:e.sent.forEach(function(){var e=Object(u.a)(l.a.mark((function e(n){var c,i,o,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=n.data()).images=[],i=b.storage().ref("Images/".concat(n.id)),e.next=5,i.listAll().then((function(e){e.items.forEach(function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL().then((function(e){c.images=[].concat(Object(ee.a)(c.images),[e])})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).catch((function(e){console.log(e)}));case 5:if(c&&a&&r){e.next=7;break}return e.abrupt("return");case 7:console.log(c),o=a.some((function(e){return c.beverages.includes(e)})),d=r.some((function(e){return c.duration.includes(e)})),Nt(c.location,s)<=5&&o&&d&&t({type:je,payload:{user:c}});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setUsers:function(e){return{type:he,payload:{users:e}}},clearRequest:function(){return{type:we}}},_t=Object(J.b)((function(e){return{user:e.user,similarUsers:e.similarUsers}}),Wt)(Object(_e.a)((function(e){return{wrapper:{minHeight:"100vh",display:"grid",gridTemplateColumns:"minmax(10px,1fr) minmax(min-content,1100px) minmax(10px,1fr)",gridTemplateRows:"minmax(10px,1fr) minmax(400px,min-content) minmax(10px,1fr)"},container:{gridArea:"2/2",background:"white",borderRadius:"10px",height:"100%",padding:"20px"},mainHeading:{textAlign:"center",color:"#222"},para:{color:"#636e72"},cardContainer:{display:"grid",gridTemplateColumns:"1fr 350px 1fr"},card:{"&>div>h1":{textAlign:"center"}},cardOptions:{display:"grid",gridTemplateColumns:"min-content 1fr min-content",justifyContent:"center",alignItems:"center"},tick:{color:"green",fontSize:"35px",cursor:"pointer"},cross:{color:"red",fontSize:"35px",cursor:"pointer"}}}))(qt)),Ft=function(){return Object(a.jsxs)(f.c,{children:[Object(a.jsx)(f.a,{path:"/Login",component:yt}),Object(a.jsx)(f.a,{path:"/Dashboard",render:function(e){return Object(a.jsx)("div",{children:Object(a.jsx)(Pe,Object(x.a)(Object(x.a)({},e),{},{children:Object(a.jsx)(pt,Object(x.a)({},e))}))})}}),Object(a.jsx)(f.a,{path:"/MeetingDashboard",render:function(e){return Object(a.jsx)("div",{children:Object(a.jsx)(Pe,Object(x.a)(Object(x.a)({},e),{},{children:Object(a.jsx)(_t,Object(x.a)({},e))}))})}}),Object(a.jsx)(f.a,{path:"/Settings",render:function(e){return Object(a.jsx)("div",{children:Object(a.jsx)(Pe,Object(x.a)(Object(x.a)({},e),{},{children:Object(a.jsx)("div",{className:"bg",style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(a.jsx)("div",{style:{width:"500px",padding:"20px",background:"white",borderRadius:"10px"},children:Object(a.jsx)(lt,Object(x.a)({},e))})})}))})}})]})},Gt=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).componentDidMount=function(){m.onAuthStateChanged(function(){var t=Object(u.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=9;break}return t.next=3,b.firestore().collection("users").doc(n.uid).get();case 3:(a=(a=t.sent).data())&&e.props.setUser(a),"/Login"!==e.props.history.location.pathname&&"/"!==e.props.history.location.pathname||e.props.history.push("/Dashboard"),t.next=10;break;case 9:e.props.history.push("/Login");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),window.onerror=function(t,n,a,r,s){e.props.setAlert(t,"error")}},e.render=function(){return Object(a.jsxs)("div",{children:[e.props.alert,Object(a.jsx)(Ft,{})]})},e}return n}(s.a.Component),Ht={setUser:function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.firestore().collection("users").doc(e.uid).update(e);case 2:n({type:se,payload:{user:e}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setAlert:Ie},Vt=Object(J.b)((function(e){return{alert:e.alert}}),Ht)(Object(f.f)(Gt)),Yt=n(73);i.a.render(Object(a.jsx)(J.a,{store:Ne,children:Object(a.jsx)(Yt.a,{basename:"/meeto",children:Object(a.jsx)(Vt,{})})}),document.getElementById("root"))}},[[214,1,2]]]);
//# sourceMappingURL=main.36d6eaa3.chunk.js.map